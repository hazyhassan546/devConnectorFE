{"ast":null,"code":"import _objectSpread from\"/Users/hassanabbas/Desktop/Nodejs/DevConnector/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{AUTH_ERROR,DELETE_ACCOUNT,DELETE_ACCOUNT_ERROR,DELETE_ACCOUNT_SUCCESS,LOAD_USER,LOGIN_ERROR,LOGIN_SUCCESS,LOGIN_USER,LOGOUT,REGISTER_USER,REGISTER_USER_FAILED,REGISTER_USER_SUCCESS,USER_LOADED}from\"../action/types\";var initialState={token:localStorage.getItem(\"token\"),isAuthenticated:null,loading:false,user:null};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case LOAD_USER:case LOGIN_USER:case DELETE_ACCOUNT:case REGISTER_USER:{return _objectSpread(_objectSpread({},state),{},{loading:true});}case USER_LOADED:{return _objectSpread(_objectSpread({},state),{},{loading:false,isAuthenticated:true,user:payload===null||payload===void 0?void 0:payload.user});}case REGISTER_USER_SUCCESS:case LOGIN_SUCCESS:{localStorage.setItem(\"token\",payload===null||payload===void 0?void 0:payload.token);return _objectSpread(_objectSpread(_objectSpread({},state),payload),{},{isAuthenticated:true,loading:false});}case AUTH_ERROR:case LOGIN_ERROR:case LOGOUT:case DELETE_ACCOUNT_SUCCESS:case REGISTER_USER_FAILED:{localStorage.setItem(\"token\",null);return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false,loading:false});}case DELETE_ACCOUNT_ERROR:{return _objectSpread(_objectSpread({},state),{},{loading:false});}default:{return state;}}}","map":{"version":3,"sources":["/Users/hassanabbas/Desktop/Nodejs/DevConnector/client/src/redux/reducers/authReducer.js"],"names":["AUTH_ERROR","DELETE_ACCOUNT","DELETE_ACCOUNT_ERROR","DELETE_ACCOUNT_SUCCESS","LOAD_USER","LOGIN_ERROR","LOGIN_SUCCESS","LOGIN_USER","LOGOUT","REGISTER_USER","REGISTER_USER_FAILED","REGISTER_USER_SUCCESS","USER_LOADED","initialState","token","localStorage","getItem","isAuthenticated","loading","user","state","action","type","payload","setItem"],"mappings":"2KAAA,OACEA,UADF,CAEEC,cAFF,CAGEC,oBAHF,CAIEC,sBAJF,CAKEC,SALF,CAMEC,WANF,CAOEC,aAPF,CAQEC,UARF,CASEC,MATF,CAUEC,aAVF,CAWEC,oBAXF,CAYEC,qBAZF,CAaEC,WAbF,KAcO,iBAdP,CAgBA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,KAAK,CAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADY,CAEnBC,eAAe,CAAE,IAFE,CAGnBC,OAAO,CAAE,KAHU,CAInBC,IAAI,CAAE,IAJa,CAArB,CAMA,cAAe,WAAwC,IAA9BC,CAAAA,KAA8B,2DAAtBP,YAAsB,IAARQ,CAAAA,MAAQ,8CAC7CC,CAAAA,IAD6C,CAC3BD,MAD2B,CAC7CC,IAD6C,CACvCC,OADuC,CAC3BF,MAD2B,CACvCE,OADuC,CAErD,OAAQD,IAAR,EACE,IAAKlB,CAAAA,SAAL,CACA,IAAKG,CAAAA,UAAL,CACA,IAAKN,CAAAA,cAAL,CACA,IAAKQ,CAAAA,aAAL,CAAoB,CAClB,sCACKW,KADL,MAEEF,OAAO,CAAE,IAFX,GAID,CACD,IAAKN,CAAAA,WAAL,CAAkB,CAChB,sCACKQ,KADL,MAEEF,OAAO,CAAE,KAFX,CAGED,eAAe,CAAE,IAHnB,CAIEE,IAAI,CAAEI,OAAF,SAAEA,OAAF,iBAAEA,OAAO,CAAEJ,IAJjB,GAMD,CACD,IAAKR,CAAAA,qBAAL,CACA,IAAKL,CAAAA,aAAL,CAAoB,CAClBS,YAAY,CAACS,OAAb,CAAqB,OAArB,CAA8BD,OAA9B,SAA8BA,OAA9B,iBAA8BA,OAAO,CAAET,KAAvC,EACA,oDACKM,KADL,EAEKG,OAFL,MAGEN,eAAe,CAAE,IAHnB,CAIEC,OAAO,CAAE,KAJX,GAMD,CACD,IAAKlB,CAAAA,UAAL,CACA,IAAKK,CAAAA,WAAL,CACA,IAAKG,CAAAA,MAAL,CACA,IAAKL,CAAAA,sBAAL,CACA,IAAKO,CAAAA,oBAAL,CAA2B,CACzBK,YAAY,CAACS,OAAb,CAAqB,OAArB,CAA8B,IAA9B,EACA,sCACKJ,KADL,MAEEH,eAAe,CAAE,KAFnB,CAGEC,OAAO,CAAE,KAHX,GAKD,CACD,IAAKhB,CAAAA,oBAAL,CAA2B,CACzB,sCACKkB,KADL,MAEEF,OAAO,CAAE,KAFX,GAID,CACD,QAAS,CACP,MAAOE,CAAAA,KAAP,CACD,CAhDH,CAkDD","sourcesContent":["import {\n  AUTH_ERROR,\n  DELETE_ACCOUNT,\n  DELETE_ACCOUNT_ERROR,\n  DELETE_ACCOUNT_SUCCESS,\n  LOAD_USER,\n  LOGIN_ERROR,\n  LOGIN_SUCCESS,\n  LOGIN_USER,\n  LOGOUT,\n  REGISTER_USER,\n  REGISTER_USER_FAILED,\n  REGISTER_USER_SUCCESS,\n  USER_LOADED,\n} from \"../action/types\";\n\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  loading: false,\n  user: null,\n};\nexport default function (state = initialState, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case LOAD_USER:\n    case LOGIN_USER:\n    case DELETE_ACCOUNT:\n    case REGISTER_USER: {\n      return {\n        ...state,\n        loading: true,\n      };\n    }\n    case USER_LOADED: {\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: true,\n        user: payload?.user,\n      };\n    }\n    case REGISTER_USER_SUCCESS:\n    case LOGIN_SUCCESS: {\n      localStorage.setItem(\"token\", payload?.token);\n      return {\n        ...state,\n        ...payload,\n        isAuthenticated: true,\n        loading: false,\n      };\n    }\n    case AUTH_ERROR:\n    case LOGIN_ERROR:\n    case LOGOUT:\n    case DELETE_ACCOUNT_SUCCESS:\n    case REGISTER_USER_FAILED: {\n      localStorage.setItem(\"token\", null);\n      return {\n        ...state,\n        isAuthenticated: false,\n        loading: false,\n      };\n    }\n    case DELETE_ACCOUNT_ERROR: {\n      return {\n        ...state,\n        loading: false,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}