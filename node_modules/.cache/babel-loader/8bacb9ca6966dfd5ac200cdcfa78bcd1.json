{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { ENDPOINTS } from \"../../common/routes\";\nimport { AlertHelper } from \"../../helpers/alertHelper\";\nimport { ApiGet, ApiPost } from \"../../helpers/apiHelper\";\nimport { profileActionCreator } from \"../action/profile\";\nimport store from \"../store\";\nimport { useHistory } from \"react-router-dom\";\nexport const getUserProfileApi = async () => {\n  try {\n    const res = await ApiGet(ENDPOINTS.profile);\n    store.dispatch(profileActionCreator.getUserProfileSuccess(res.data));\n  } catch (error) {\n    store.dispatch(profileActionCreator.getUserProfileFailed());\n  }\n};\nexport const createOrUpdateApi = async (params, edit = false) => {\n  _s();\n\n  let history = useHistory();\n\n  try {\n    const res = await ApiPost(ENDPOINTS.createUpdateProfile, params);\n\n    if (res.errors) {\n      res.errors.map(item => {\n        AlertHelper({\n          msg: item.msg,\n          alertType: \"danger\"\n        });\n        console.log(\"any\", res);\n      });\n      store.dispatch(profileActionCreator.createOrUpdateProfileError());\n    } else {\n      store.dispatch(profileActionCreator.createOrUpdateProfileSuccess(res.data));\n      history.push(\"/dashboard\");\n      AlertHelper({\n        msg: edit ? \"Profile created successfully\" : \"Profile updated successfully\",\n        alertType: \"success\"\n      });\n    }\n  } catch (error) {\n    store.dispatch(profileActionCreator.createOrUpdateProfileError());\n  }\n};\n\n_s(createOrUpdateApi, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});","map":{"version":3,"sources":["/Users/hassanabbas/Desktop/Nodejs/DevConnector/client/src/redux/ApiCalls/profileApi.js"],"names":["axios","ENDPOINTS","AlertHelper","ApiGet","ApiPost","profileActionCreator","store","useHistory","getUserProfileApi","res","profile","dispatch","getUserProfileSuccess","data","error","getUserProfileFailed","createOrUpdateApi","params","edit","history","createUpdateProfile","errors","map","item","msg","alertType","console","log","createOrUpdateProfileError","createOrUpdateProfileSuccess","push"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,SAASC,WAAT,QAA4B,2BAA5B;AACA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,yBAAhC;AACA,SAASC,oBAAT,QAAqC,mBAArC;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAGA,OAAO,MAAMC,iBAAiB,GAAG,YAAY;AAC3C,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMN,MAAM,CAACF,SAAS,CAACS,OAAX,CAAxB;AACAJ,IAAAA,KAAK,CAACK,QAAN,CAAeN,oBAAoB,CAACO,qBAArB,CAA2CH,GAAG,CAACI,IAA/C,CAAf;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACdR,IAAAA,KAAK,CAACK,QAAN,CAAeN,oBAAoB,CAACU,oBAArB,EAAf;AACD;AACF,CAPM;AASP,OAAO,MAAMC,iBAAiB,GAAG,OAAOC,MAAP,EAAeC,IAAI,GAAG,KAAtB,KAAgC;AAAA;;AAC/D,MAAIC,OAAO,GAACZ,UAAU,EAAtB;;AACA,MAAI;AACF,UAAME,GAAG,GAAG,MAAML,OAAO,CAACH,SAAS,CAACmB,mBAAX,EAAgCH,MAAhC,CAAzB;;AACA,QAAIR,GAAG,CAACY,MAAR,EAAgB;AACdZ,MAAAA,GAAG,CAACY,MAAJ,CAAWC,GAAX,CAAgBC,IAAD,IAAU;AACvBrB,QAAAA,WAAW,CAAC;AAAEsB,UAAAA,GAAG,EAAED,IAAI,CAACC,GAAZ;AAAiBC,UAAAA,SAAS,EAAE;AAA5B,SAAD,CAAX;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBlB,GAAnB;AACD,OAHD;AAIAH,MAAAA,KAAK,CAACK,QAAN,CAAeN,oBAAoB,CAACuB,0BAArB,EAAf;AACD,KAND,MAMO;AACLtB,MAAAA,KAAK,CAACK,QAAN,CACEN,oBAAoB,CAACwB,4BAArB,CAAkDpB,GAAG,CAACI,IAAtD,CADF;AAGAM,MAAAA,OAAO,CAACW,IAAR,CAAa,YAAb;AACA5B,MAAAA,WAAW,CAAC;AACVsB,QAAAA,GAAG,EAAEN,IAAI,GACL,8BADK,GAEL,8BAHM;AAIVO,QAAAA,SAAS,EAAE;AAJD,OAAD,CAAX;AAMD;AACF,GApBD,CAoBE,OAAOX,KAAP,EAAc;AACdR,IAAAA,KAAK,CAACK,QAAN,CAAeN,oBAAoB,CAACuB,0BAArB,EAAf;AACD;AACF,CAzBM;;GAAMZ,iB;UACCT,U","sourcesContent":["import axios from \"axios\";\nimport { ENDPOINTS } from \"../../common/routes\";\nimport { AlertHelper } from \"../../helpers/alertHelper\";\nimport { ApiGet, ApiPost } from \"../../helpers/apiHelper\";\nimport { profileActionCreator } from \"../action/profile\";\nimport store from \"../store\";\nimport { useHistory } from \"react-router-dom\";\n\n\nexport const getUserProfileApi = async () => {\n  try {\n    const res = await ApiGet(ENDPOINTS.profile);\n    store.dispatch(profileActionCreator.getUserProfileSuccess(res.data));\n  } catch (error) {\n    store.dispatch(profileActionCreator.getUserProfileFailed());\n  }\n};\n\nexport const createOrUpdateApi = async (params, edit = false) => {\n  let history=useHistory();\n  try {\n    const res = await ApiPost(ENDPOINTS.createUpdateProfile, params);\n    if (res.errors) {\n      res.errors.map((item) => {\n        AlertHelper({ msg: item.msg, alertType: \"danger\" });\n        console.log(\"any\", res);\n      });\n      store.dispatch(profileActionCreator.createOrUpdateProfileError());\n    } else {\n      store.dispatch(\n        profileActionCreator.createOrUpdateProfileSuccess(res.data)\n      );\n      history.push(\"/dashboard\");\n      AlertHelper({\n        msg: edit\n          ? \"Profile created successfully\"\n          : \"Profile updated successfully\",\n        alertType: \"success\",\n      });\n    }\n  } catch (error) {\n    store.dispatch(profileActionCreator.createOrUpdateProfileError());\n  }\n};\n"]},"metadata":{},"sourceType":"module"}