{"ast":null,"code":"import _toConsumableArray from\"/Users/hassanabbas/Desktop/Nodejs/DevConnector/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/hassanabbas/Desktop/Nodejs/DevConnector/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ADD_COMMENT_SUCCESS,CREATE_POST_SUCCESS,DELETE_COMMENT_SUCCESS,DELETE_POST_SUCCESS,GET_ALL_POST,GET_ALL_POST_ERROR,GET_ALL_POST_SUCCESS,GET_SINGLE_POST,GET_SINGLE_POST_ERROR,GET_SINGLE_POST_SUCCESS,LIKE_POST_SUCCESS,UNLIKE_POST,UNLIKE_POST_SUCCESS}from\"../action/types\";var initialState={posts:[],post:null,loading:false,error:{}};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case GET_SINGLE_POST_SUCCESS:case ADD_COMMENT_SUCCESS:case DELETE_COMMENT_SUCCESS:{return _objectSpread(_objectSpread({},state),{},{post:payload,loading:false});}case GET_SINGLE_POST:case GET_ALL_POST:{return _objectSpread(_objectSpread({},state),{},{loading:true,post:null});}case GET_ALL_POST_SUCCESS:{return _objectSpread(_objectSpread({},state),{},{loading:false,posts:payload});}case GET_SINGLE_POST_ERROR:case GET_ALL_POST_ERROR:{return _objectSpread(_objectSpread({},state),{},{post:null,loading:false});}case LIKE_POST_SUCCESS:{var index=state.posts.map(function(item){return item._id;}).indexOf(payload.postId);var temp=state.posts;if(index!==-1){temp[index].likes=payload.data;}return _objectSpread(_objectSpread({},state),{},{loading:false,posts:temp});}case UNLIKE_POST_SUCCESS:{var _index=state.posts.map(function(item){return item._id;}).indexOf(payload.postId);var _temp=state.posts;if(_index!==-1){_temp[_index].likes=payload.data;}return _objectSpread(_objectSpread({},state),{},{loading:false,posts:_temp});}case CREATE_POST_SUCCESS:{return _objectSpread(_objectSpread({},state),{},{loading:false,posts:[payload].concat(_toConsumableArray(state.posts))});}case DELETE_POST_SUCCESS:{var _index2=state.posts.map(function(item){return item._id;}).indexOf(payload.postId);var _temp2=state.posts;if(_index2!==-1){_temp2.splice(_index2,1);}return _objectSpread(_objectSpread({},state),{},{loading:false,posts:_temp2});}default:{return state;}}}","map":{"version":3,"sources":["/Users/hassanabbas/Desktop/Nodejs/DevConnector/client/src/redux/reducers/postReducer.js"],"names":["ADD_COMMENT_SUCCESS","CREATE_POST_SUCCESS","DELETE_COMMENT_SUCCESS","DELETE_POST_SUCCESS","GET_ALL_POST","GET_ALL_POST_ERROR","GET_ALL_POST_SUCCESS","GET_SINGLE_POST","GET_SINGLE_POST_ERROR","GET_SINGLE_POST_SUCCESS","LIKE_POST_SUCCESS","UNLIKE_POST","UNLIKE_POST_SUCCESS","initialState","posts","post","loading","error","state","action","type","payload","index","map","item","_id","indexOf","postId","temp","likes","data","splice"],"mappings":"+VAAA,OACEA,mBADF,CAEEC,mBAFF,CAGEC,sBAHF,CAIEC,mBAJF,CAKEC,YALF,CAMEC,kBANF,CAOEC,oBAPF,CAQEC,eARF,CASEC,qBATF,CAUEC,uBAVF,CAWEC,iBAXF,CAYEC,WAZF,CAaEC,mBAbF,KAcO,iBAdP,CAgBA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,KAAK,CAAE,EADY,CAEnBC,IAAI,CAAE,IAFa,CAGnBC,OAAO,CAAE,KAHU,CAInBC,KAAK,CAAE,EAJY,CAArB,CAMA,cAAe,WAAwC,IAA9BC,CAAAA,KAA8B,2DAAtBL,YAAsB,IAARM,CAAAA,MAAQ,8CAC7CC,CAAAA,IAD6C,CAC3BD,MAD2B,CAC7CC,IAD6C,CACvCC,OADuC,CAC3BF,MAD2B,CACvCE,OADuC,CAErD,OAAQD,IAAR,EACE,IAAKX,CAAAA,uBAAL,CACA,IAAKT,CAAAA,mBAAL,CACA,IAAKE,CAAAA,sBAAL,CAA6B,CAC3B,sCACKgB,KADL,MAEEH,IAAI,CAAEM,OAFR,CAGEL,OAAO,CAAE,KAHX,GAKD,CACD,IAAKT,CAAAA,eAAL,CACA,IAAKH,CAAAA,YAAL,CAAmB,CACjB,sCACKc,KADL,MAEEF,OAAO,CAAE,IAFX,CAGED,IAAI,CAAE,IAHR,GAKD,CACD,IAAKT,CAAAA,oBAAL,CAA2B,CACzB,sCACKY,KADL,MAEEF,OAAO,CAAE,KAFX,CAGEF,KAAK,CAAEO,OAHT,GAKD,CACD,IAAKb,CAAAA,qBAAL,CACA,IAAKH,CAAAA,kBAAL,CAAyB,CACvB,sCACKa,KADL,MAEEH,IAAI,CAAE,IAFR,CAGEC,OAAO,CAAE,KAHX,GAKD,CACD,IAAKN,CAAAA,iBAAL,CAAwB,CACtB,GAAIY,CAAAA,KAAK,CAAGJ,KAAK,CAACJ,KAAN,CAAYS,GAAZ,CAAgB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,GAAf,EAAhB,EAAoCC,OAApC,CAA4CL,OAAO,CAACM,MAApD,CAAZ,CACA,GAAIC,CAAAA,IAAI,CAAGV,KAAK,CAACJ,KAAjB,CACA,GAAIQ,KAAK,GAAK,CAAC,CAAf,CAAkB,CAChBM,IAAI,CAACN,KAAD,CAAJ,CAAYO,KAAZ,CAAoBR,OAAO,CAACS,IAA5B,CACD,CACD,sCACKZ,KADL,MAEEF,OAAO,CAAE,KAFX,CAGEF,KAAK,CAAEc,IAHT,GAKD,CACD,IAAKhB,CAAAA,mBAAL,CAA0B,CACxB,GAAIU,CAAAA,MAAK,CAAGJ,KAAK,CAACJ,KAAN,CAAYS,GAAZ,CAAgB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,GAAf,EAAhB,EAAoCC,OAApC,CAA4CL,OAAO,CAACM,MAApD,CAAZ,CACA,GAAIC,CAAAA,KAAI,CAAGV,KAAK,CAACJ,KAAjB,CACA,GAAIQ,MAAK,GAAK,CAAC,CAAf,CAAkB,CAChBM,KAAI,CAACN,MAAD,CAAJ,CAAYO,KAAZ,CAAoBR,OAAO,CAACS,IAA5B,CACD,CACD,sCACKZ,KADL,MAEEF,OAAO,CAAE,KAFX,CAGEF,KAAK,CAAEc,KAHT,GAKD,CACD,IAAK3B,CAAAA,mBAAL,CAA0B,CACxB,sCACKiB,KADL,MAEEF,OAAO,CAAE,KAFX,CAGEF,KAAK,EAAGO,OAAH,4BAAeH,KAAK,CAACJ,KAArB,EAHP,GAKD,CACD,IAAKX,CAAAA,mBAAL,CAA0B,CACxB,GAAImB,CAAAA,OAAK,CAAGJ,KAAK,CAACJ,KAAN,CAAYS,GAAZ,CAAgB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,GAAf,EAAhB,EAAoCC,OAApC,CAA4CL,OAAO,CAACM,MAApD,CAAZ,CACA,GAAIC,CAAAA,MAAI,CAAGV,KAAK,CAACJ,KAAjB,CACA,GAAIQ,OAAK,GAAK,CAAC,CAAf,CAAkB,CAChBM,MAAI,CAACG,MAAL,CAAYT,OAAZ,CAAmB,CAAnB,EACD,CACD,sCACKJ,KADL,MAEEF,OAAO,CAAE,KAFX,CAGEF,KAAK,CAAEc,MAHT,GAKD,CACD,QAAS,CACP,MAAOV,CAAAA,KAAP,CACD,CA9EH,CAgFD","sourcesContent":["import {\n  ADD_COMMENT_SUCCESS,\n  CREATE_POST_SUCCESS,\n  DELETE_COMMENT_SUCCESS,\n  DELETE_POST_SUCCESS,\n  GET_ALL_POST,\n  GET_ALL_POST_ERROR,\n  GET_ALL_POST_SUCCESS,\n  GET_SINGLE_POST,\n  GET_SINGLE_POST_ERROR,\n  GET_SINGLE_POST_SUCCESS,\n  LIKE_POST_SUCCESS,\n  UNLIKE_POST,\n  UNLIKE_POST_SUCCESS,\n} from \"../action/types\";\n\nconst initialState = {\n  posts: [],\n  post: null,\n  loading: false,\n  error: {},\n};\nexport default function (state = initialState, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case GET_SINGLE_POST_SUCCESS:\n    case ADD_COMMENT_SUCCESS:\n    case DELETE_COMMENT_SUCCESS: {\n      return {\n        ...state,\n        post: payload,\n        loading: false,\n      };\n    }\n    case GET_SINGLE_POST:\n    case GET_ALL_POST: {\n      return {\n        ...state,\n        loading: true,\n        post: null,\n      };\n    }\n    case GET_ALL_POST_SUCCESS: {\n      return {\n        ...state,\n        loading: false,\n        posts: payload,\n      };\n    }\n    case GET_SINGLE_POST_ERROR:\n    case GET_ALL_POST_ERROR: {\n      return {\n        ...state,\n        post: null,\n        loading: false,\n      };\n    }\n    case LIKE_POST_SUCCESS: {\n      let index = state.posts.map((item) => item._id).indexOf(payload.postId);\n      let temp = state.posts;\n      if (index !== -1) {\n        temp[index].likes = payload.data;\n      }\n      return {\n        ...state,\n        loading: false,\n        posts: temp,\n      };\n    }\n    case UNLIKE_POST_SUCCESS: {\n      let index = state.posts.map((item) => item._id).indexOf(payload.postId);\n      let temp = state.posts;\n      if (index !== -1) {\n        temp[index].likes = payload.data;\n      }\n      return {\n        ...state,\n        loading: false,\n        posts: temp,\n      };\n    }\n    case CREATE_POST_SUCCESS: {\n      return {\n        ...state,\n        loading: false,\n        posts: [payload, ...state.posts],\n      };\n    }\n    case DELETE_POST_SUCCESS: {\n      let index = state.posts.map((item) => item._id).indexOf(payload.postId);\n      let temp = state.posts;\n      if (index !== -1) {\n        temp.splice(index, 1);\n      }\n      return {\n        ...state,\n        loading: false,\n        posts: temp,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}